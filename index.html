<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>FIFA Draft</title>

<style>
body {
  margin: 0;
  background: #0b0b0b;
  color: white;
  font-family: Arial, sans-serif;
  text-align: center;
}

h1 {
  margin: 16px 0 8px;
}

/* ---------- PACK ---------- */
.pack {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  padding: 10px;
  max-width: 360px;
  margin: auto;
}

.pack img {
  width: 100%;
  max-width: 95px;
  border-radius: 8px;
  cursor: pointer;
}

/* ---------- TEAM ---------- */
.team {
  max-width: 360px;
  margin: auto;
  padding-bottom: 20px;
}

.row {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin: 6px 0;
}

.slot {
  width: 90px;
  height: 135px;
  border: 2px dashed #555;
  border-radius: 8px;
}

.slot img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
</style>
</head>

<body>

<h1>PACK</h1>
<div class="pack" id="pack"></div>

<h1>TEAM A</h1>
<div class="team" id="teamA"></div>

<h1>TEAM B</h1>
<div class="team" id="teamB"></div>

<script>
/* ---------- CARD LIST ---------- */
const allCards = [
  "fifa-cards/marcelo10.png",
  "fifa-cards/marcelo11.png",
  "fifa-cards/marcelo12.png",
  "fifa-cards/marcelo13.png",
  "fifa-cards/vieira10.png",
  "fifa-cards/vieira11.png",
  "fifa-cards/vieira12.png",
  "fifa-cards/vieira14.png",
  "fifa-cards/busquets10.png",
  "fifa-cards/busquets11.png",
  "fifa-cards/busquets12.png",
  "fifa-cards/busquets13.png",
  "fifa-cards/lahm10.png",
  "fifa-cards/lahm11.png",
  "fifa-cards/lahm12.png",
  "fifa-cards/lahm13.png",
  "fifa-cards/cannavaro10.png",
  "fifa-cards/cannavaro11.png",
  "fifa-cards/cannavaro12.png",
  "fifa-cards/cannavaro13.png"
  
];

let deck = [...allCards];
let packCards = [];
let picksThisRound = 0;
let currentTeam = "A";

/* ---------- ELEMENTS ---------- */
const packEl = document.getElementById("pack");
const teamA = document.getElementById("teamA");
const teamB = document.getElementById("teamB");

/* ---------- FORMATION ---------- */
function buildTeam(teamEl) {
  teamEl.innerHTML = "";

  const rows = [3,3,4,1]; // 4-3-3 + GK
  rows.forEach(count => {
    const row = document.createElement("div");
    row.className = "row";

    for (let i = 0; i < count; i++) {
      const slot = document.createElement("div");
      slot.className = "slot";
      slot.onclick = () => placeCard(slot);
      row.appendChild(slot);
    }

    teamEl.appendChild(row);
  });
}

/* ---------- PACK ---------- */
function dealPack() {
  packEl.innerHTML = "";
  picksThisRound = 0;
  currentTeam = "A";

  deck =
  deck.sort(() => Math.random() - 0.5);
  packCards = deck.slice(0, 5);

  packCards.forEach(src => {
    const img = document.createElement("img");
    img.src = src;
    img.onclick = () => selectCard(img);
    packEl.appendChild(img);
  });
}

let selectedCard = null;

function selectCard(img) {
  selectedCard = img.src;
  [...packEl.children].forEach(i => i.style.opacity = 1);
  img.style.opacity = 0.4;
}

function placeCard(slot) {
  if (!selectedCard || slot.innerHTML !== "") return;

  const img = document.createElement("img");
  img.src = selectedCard;
  slot.appendChild(img);

  deck = deck.filter(c => c !== selectedCard);
  packCards = packCards.filter(c => c !== selectedCard);

  selectedCard = null;
  picksThisRound++;

  currentTeam = currentTeam === "A" ? "B" : "A";

  if (picksThisRound === 2) {
    dealPack();
  }
}

/* ---------- INIT ---------- */
buildTeam(teamA);
buildTeam(teamB);
dealPack();
</script>

</body>
</html>
